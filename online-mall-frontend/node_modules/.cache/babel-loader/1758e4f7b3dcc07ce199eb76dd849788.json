{"ast":null,"code":"import _defineProperty from \"/Users/mac/Desktop/DM/shopping_zhangshuai_mall/online-mall-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport \"core-js/modules/es.array.slice.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport search from \"../../components/Search\";\nexport default {\n  name: \"TopView\",\n  //页面初始化数据\n  data: function data() {\n    return _defineProperty({\n      //轮播图\n      carousels: [],\n      //推荐商品\n      good: [],\n      baseApi: this.$store.state.baseApi,\n      //分类icon，每个icon包含id、value、categories对象数组.category：id，name\n      icons: [],\n      //搜索内容\n      searchText: \"\"\n    }, \"baseApi\", this.$store.state.baseApi);\n  },\n  components: {\n    search: search\n  },\n  //页面创建\n  created: function created() {\n    var _this = this;\n\n    this.request.get(\"/api/good\").then(function (res) {\n      if (res.code === \"200\") {\n        _this.good = res.data;\n      } else {\n        _this.$message.error(res.msg);\n      }\n    });\n    this.request.get(\"/api/icon\").then(function (res) {\n      if (res.code === \"200\") {\n        _this.icons = res.data;\n\n        if (_this.icons.length > 6) {\n          // 截取前六个分类\n          _this.icons = _this.icons.slice(0, 6);\n        }\n      }\n    });\n    this.request.get(\"/api/carousel\").then(function (res) {\n      if (res.code === \"200\") {\n        _this.carousels = res.data;\n      }\n    });\n  },\n  //方法\n  methods: {\n    //搜索按钮触发\n    handleSearch: function handleSearch(text) {\n      this.searchText = text;\n      this.$router.push({\n        path: \"/goodList\",\n        query: {\n          searchText: this.searchText\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA;AACA;AACAA,iBADA;AAEA;AACAC,MAHA,kBAGA;AACA;AACA;AACAC,mBAFA;AAGA;AACAC,cAJA;AAKAC,wCALA;AAOA;AACAC,eARA;AASA;AACAC;AAVA,kBAWA,yBAXA;AAaA,GAjBA;AAkBAC;AACAC;AADA,GAlBA;AAqBA;AACAC,SAtBA,qBAsBA;AAAA;;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KANA;AAOA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA,KARA;AASA;AACA;AACA;AACA;AACA,KAJA;AAKA,GA5CA;AA6CA;AACAC;AACA;AACAC,gBAFA,wBAEAC,IAFA,EAEA;AACA;AACA;AACAC,yBADA;AAEAC;AAAAR;AAAA;AAFA;AAIA;AARA;AA9CA","names":["name","data","carousels","good","baseApi","icons","searchText","components","search","created","methods","handleSearch","text","path","query"],"sourceRoot":"src/views/front","sources":["TopView.vue"],"sourcesContent":["<!--\n * 前台首页 相关内容\n *\n * @author: ZhangDaYe\n * @Date: 2023-11-11\n-->\n<template>\n  <div>\n    <search @search=\"handleSearch\"></search>\n\n    <div class=\"main-box\">\n      <div class=\"block\" style=\"margin: 10px auto\">\n\n        <!--商品分类-->\n        <div class=\"good-menu\">\n          <ul v-for=\"(item, index) in icons\" :key=\"index\">\n            <li>\n\n              <i class=\"iconfont\" v-html=\"item.value\"></i>\n\n              <!--跳转到商品分类对应列表-->\n              <span v-for=\"(category, index2) in item.categories\" :key=\"index2\">\n                <router-link\n                  :to=\"{\n                    path: '/goodlist',\n                    query: { categoryId: category.id },\n                  }\"\n                >\n                  <a href=\"/person\"><span style=\"color: #3186cb\">{{ category.name }}</span></a>\n                </router-link>\n\n                <span v-if=\"index2 != item.categories.length - 1\">/</span>\n\n              </span>\n\n            </li>\n          </ul>\n        </div>\n\n        <!--轮播图-->\n        <div>\n          <el-carousel height=\"370px\" style=\"border-radius: 20px; width: 600px\">\n\n            <el-carousel-item v-for=\"carousel in carousels\" :key=\"carousel.id\">\n              <router-link :to=\"'/goodview/' + carousel.goodId\">\n                <img style=\"height: 370px; width: 600px\"\n                  :src=\"baseApi + carousel.img\"\n                />\n              </router-link>\n            </el-carousel-item>\n\n          </el-carousel>\n        </div>\n      </div>\n\n\n      <!--推荐商品-->\n      <div style=\"margin-top: 30px\">\n        <span style=\"color: #e75c09\">推荐商品</span>\n      </div>\n\n      <div style=\"margin: 20px auto\">\n\n        <el-row :gutter=\"20\">\n\n          <el-col\n            :span=\"6\"\n            v-for=\"good in good\"\n            :key=\"good.id\"\n            style=\"margin-bottom: 20px\"\n          >\n\n            <router-link :to=\"'goodview/' + good.id\">\n\n              <el-card :body-style=\"{ padding: '0px', background: '#3472a6' }\">\n                <img\n                  :src=\"baseApi + good.imgs\"\n                  style=\"width: 100%; height: 300px\"\n                />\n                <div style=\"padding: 5px 10px\">\n                  <!--商品名称-->\n                  <span style=\"font-size: 18px; color: #ffffff\">{{ good.name }}</span><br/>\n                  <!--商品价格-->\n                  <span style=\"color: #ffffff; font-size: 15px\">￥{{ good.price }}</span>\n                </div>\n              </el-card>\n\n            </router-link>\n\n          </el-col>\n        </el-row>\n\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport search from \"../../components/Search\";\nexport default {\n  name: \"TopView\",\n  //页面初始化数据\n  data() {\n    return {\n      //轮播图\n      carousels: [],\n      //推荐商品\n      good: [],\n      baseApi: this.$store.state.baseApi,\n\n      //分类icon，每个icon包含id、value、categories对象数组.category：id，name\n      icons: [],\n      //搜索内容\n      searchText: \"\",\n      baseApi: this.$store.state.baseApi,\n    };\n  },\n  components: {\n    search,\n  },\n  //页面创建\n  created() {\n    this.request.get(\"/api/good\").then((res) => {\n      if (res.code === \"200\") {\n        this.good = res.data;\n      } else {\n        this.$message.error(res.msg);\n      }\n    });\n    this.request.get(\"/api/icon\").then((res) => {\n      if (res.code === \"200\") {\n        this.icons = res.data;\n        if(this.icons.length > 6) {\n          // 截取前六个分类\n          this.icons = this.icons.slice(0, 6);\n        }\n      }\n    });\n    this.request.get(\"/api/carousel\").then((res) => {\n      if (res.code === \"200\") {\n        this.carousels = res.data;\n      }\n    });\n  },\n  //方法\n  methods: {\n    //搜索按钮触发\n    handleSearch(text) {\n      this.searchText = text;\n      this.$router.push({\n        path: \"/goodList\",\n        query: { searchText: this.searchText },\n      });\n    },\n\n  },\n};\n\n</script>\n\n<style scoped>\n.main-box {\n  background-color: white;\n  border: white 2px solid;\n  border-radius: 40px;\n  padding: 20px 40px;\n  margin: 5px auto;\n}\n.good-menu {\n  float: left;\n  height: 370px;\n  margin-right: 130px;\n}\n.good-menu li {\n  list-style: none;\n  overflow: hidden;\n  margin-bottom: 35px;\n}\n.good-menu li a,\nspan {\n  font-size: 20px;\n  color: #6c6969;\n}\n.good-menu a span:hover {\n  color: #00b7ff;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}