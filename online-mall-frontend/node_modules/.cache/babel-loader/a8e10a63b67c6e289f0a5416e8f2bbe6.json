{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"OrderItem\",\n  props: {\n    order: Object\n  },\n  created: function created() {},\n  data: function data() {\n    return {\n      address: '电话:' + this.order.link_phone + ' 地址:' + this.order.link_address,\n      baseApi: this.$store.state.baseApi\n    };\n  },\n  methods: {\n    //跳转到支付页面\n    pay: function pay() {\n      this.$router.push({\n        path: 'pay',\n        query: {\n          money: this.order.total_price,\n          orderNo: this.order.order_no\n        }\n      });\n    },\n    //确认收货\n    receive: function receive() {\n      var _this = this;\n\n      this.$confirm('是否确认收货?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'info'\n      }).then(function () {\n        _this.request.get(\"/api/order/received/\" + _this.order.order_no).then(function (res) {\n          if (res.code === '200') {\n            _this.$message.success(\"收货成功\");\n\n            _this.order.state = '已收货';\n          }\n        });\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACAA,mBADA;AAEAC;AACAC;AADA,GAFA;AAKAC,SALA,qBAKA,CACA,CANA;AAOAC,MAPA,kBAOA;AACA;AACAC,+EADA;AAEAC;AAFA;AAIA,GAZA;AAaAC;AACA;AACAC,OAFA,iBAEA;AACA;AAAAC;AAAAC;AAAAC;AAAAC;AAAA;AAAA;AACA,KAJA;AAKA;AACAC,WANA,qBAMA;AAAA;;AAEA;AACAC,+BADA;AAEAC,8BAFA;AAGAC;AAHA,SAIAC,IAJA,CAIA;AAEA;AACA;AACA;;AACA;AACA;AACA,SALA;AAMA,OAZA;AAcA;AAtBA;AAbA","names":["name","props","order","created","data","address","baseApi","methods","pay","path","query","money","orderNo","receive","confirmButtonText","cancelButtonText","type","then"],"sourceRoot":"src/components","sources":["OrderItem.vue"],"sourcesContent":["<!--\n * 我的订单列表\n *\n * @author: ZhangDaYe\n * @Date: 2023-11-11\n-->\n<template>\n<div>\n  <div class=\"header\" style=\"padding-left: 25px;\">\n    <span style=\"line-height: 40px\">{{order.create_time}}</span>\n    <span style=\"line-height: 40px;margin-left: 30px\">订单编号： {{order.order_no}}</span>\n    <span style=\"line-height: 40px;margin-left: 30px\">支付方式： {{order.pay_type}}</span>\n    <span v-if=\"order.pay_type=== 'alipay'\"> 支付方式：支付宝 </span>\n  </div>\n  <div class=\"body\">\n    <div style=\"display: inline-block;margin-right: 20px\">\n      <router-link :to=\"'goodview/'+order.good_id\">\n        <img :src=\"baseApi + order.imgs\" style=\"width: 100px;height:100px\">\n      </router-link>\n    </div>\n    <div style=\"display: inline-block;line-height: 40px\" >\n      <table>\n        <tr>\n          <th>商品</th>\n          <th>规格</th>\n          <th>数量</th>\n          <th>总价</th>\n          <th>收货人</th>\n          <th>订单状态</th>\n          <th>支付方式</th>\n        </tr>\n        <tr>\n          <a :href=\"'goodview/'+order.good_id\">\n            <td>{{order.good_name}}</td>\n          </a>\n          <td>{{order.standard}}</td>\n          <td>{{order.count}}</td>\n          <td>{{order.total_price}}</td>\n          <el-popover\n              placement=\"bottom-start\"\n              width=\"200\"\n              trigger=\"hover\"\n              :content=address>\n            <td slot=\"reference\" style=\"color: #42b983\">{{ order.link_user }}</td>\n          </el-popover>\n          <!--订单状态-->\n          <template v-if=\"order.state==='已发货'\">\n            <td style=\"color: #42b983\">{{order.state}}</td>\n            <td>\n              <el-button style=\"margin-left: 20px;\" size=\"mini\" type=\"primary\" @click=\"receive\">确认收货</el-button>\n            </td>\n          </template>\n\n          <template v-else-if=\"order.state==='已收货'\">\n            <td style=\"color: #42b983\"><a class=\"el-icon-check\"></a>{{order.state}}</td>\n          </template>\n\n          <template v-else-if=\"order.state==='已支付'\">\n            <td style=\"color: #3b62f8\"> {{order.state}}</td>\n            <td>\n              <el-button size=\"mini\" type=\"info\" plain disabled>等待发货</el-button>\n            </td>\n          </template>\n\n          <template v-else>\n            <td>{{order.state}}</td>\n            <td>\n              <el-button style=\"margin-left: 20px\" size=\"mini\" type=\"success\" @click=\"pay\">去支付</el-button>\n            </td>\n          </template>\n\n\n        </tr>\n      </table>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nexport default {\n  name: \"OrderItem\",\n  props:{\n    order: Object,\n  },\n  created() {\n  },\n  data(){\n    return{\n      address: '电话:'+this.order.link_phone+' 地址:'+this.order.link_address,\n      baseApi: this.$store.state.baseApi,\n    }\n  },\n  methods:{\n    //跳转到支付页面\n    pay(){\n      this.$router.push({path: 'pay',query:{money: this.order.total_price,orderNo: this.order.order_no}})\n    },\n    //确认收货\n    receive(){\n\n      this.$confirm('是否确认收货?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'info'\n      }).then(() => {\n\n        this.request.get(\"/api/order/received/\"+this.order.order_no).then(res=>{\n          if(res.code==='200'){\n            this.$message.success(\"收货成功\");\n            this.order.state='已收货'\n          }\n        })\n      })\n\n    }\n  }\n}\n</script>\n\n<style scoped>\n.header{\n  background-color: #e75c09;\n  height: 40px;\n}\n.body{\n  background-color: white;\n  padding: 20px;\n}\nth,td{\n\n  width: 120px;\n  text-align: center;\n}\nth{\n  font-size: 15px;\n  color: #3472a6;\n  font-weight: normal;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}