{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport request from \"@/utils/request\";\nexport default {\n  name: \"Aside\",\n  props: {\n    isCollapse: Boolean\n  },\n\n  /*初始化数据*/\n  data: function data() {\n    return {\n      role: 'user',\n\n      /*菜单打开状态*/\n      menuFlags: {\n        userMenu: false,\n        fileMenu: false,\n        avatarMenu: false,\n        goodMenu: false,\n        carouselMenu: false,\n        orderMenu: false,\n        categoryMenu: false,\n        incomeChartMenu: false,\n        incomeRankMenu: false\n      }\n    };\n  },\n  computed: {\n    userGroup: function userGroup() {\n      return this.menuFlags.userMenu;\n    },\n    fileGroup: function fileGroup() {\n      return this.menuFlags.fileMenu || this.menuFlags.avatarMenu;\n    },\n    GoodGroup: function GoodGroup() {\n      return this.menuFlags.goodMenu || this.menuFlags.orderMenu || this.menuFlags.categoryMenu || this.menuFlags.carouselMenu;\n    },\n    incomeGroup: function incomeGroup() {\n      return this.menuFlags.incomeChartMenu || this.menuFlags.incomeRankMenu;\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    /*获取用户角色*/\n    request.post(\"http://localhost:8888/role\").then(function (res) {\n      if (res.code === '200') {\n        _this.role = res.data;\n        /*只有管理员有权限*/\n\n        if (_this.role === 'admin') {\n          _this.menuFlags.userMenu = true;\n          _this.menuFlags.fileMenu = true;\n          _this.menuFlags.avatarMenu = true;\n          _this.menuFlags.categoryMenu = true;\n          _this.menuFlags.goodMenu = true;\n          _this.menuFlags.carouselMenu = true;\n          _this.menuFlags.orderMenu = true;\n          _this.menuFlags.incomeChartMenu = true;\n          _this.menuFlags.incomeRankMenu = true;\n        } else if (_this.role === 'user') {}\n      }\n    });\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AAEA;AACAA,eADA;AAEAC;AACAC;AADA,GAFA;;AAMA;AACAC,MAPA,kBAOA;AACA;AACAC,kBADA;;AAEA;AACAC;AACAC,uBADA;AAEAC,uBAFA;AAGAC,yBAHA;AAIAC,uBAJA;AAKAC,2BALA;AAMAC,wBANA;AAOAC,2BAPA;AAQAC,8BARA;AASAC;AATA;AAHA;AAeA,GAvBA;AAyBAC;AACAC;AACA;AACA,KAHA;AAIAC;AACA;AACA,KANA;AAOAC;AACA;AACA,KATA;AAUAC;AACA;AACA;AAZA,GAzBA;AAuCAC,SAvCA,qBAuCA;AAAA;;AACA;AACAC;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAVA,MAUA,4BAEA;AACA;AACA,KAlBA;AAmBA;AA5DA","names":["name","props","isCollapse","data","role","menuFlags","userMenu","fileMenu","avatarMenu","goodMenu","carouselMenu","orderMenu","categoryMenu","incomeChartMenu","incomeRankMenu","computed","userGroup","fileGroup","GoodGroup","incomeGroup","created","request"],"sourceRoot":"src/components","sources":["Aside.vue"],"sourcesContent":["<!--\r\n * 左侧滑动-菜单栏\r\n *\r\n * @author: ZhangDaYe\r\n * @Date: 2023-11-11\r\n-->\r\n<template>\r\n  <el-menu :default-openeds=\"['2', 'good']\" style=\"height: 100%;\"\r\n           background-color=\"rgb(28,28,28)\"\r\n           text-color=\"#fff\"\r\n           :collapse-transition=\"false\"\r\n           :collapse=\"isCollapse\"\r\n           router\r\n  >\r\n\r\n    <!-- 标题，图标等   -->\r\n    <div style=\"height: 60px;margin-left: 30px; line-height: 60px\">\r\n      <router-link to=\"/manage/home\">\r\n        <img src=\"../resource/logo.png\" style=\"width: 40px;position: relative; top: 13px;right: 6px\">\r\n      </router-link>\r\n      <span slot=\"title\" style=\"color: aliceblue;font-size: 20px\" v-show=\"!isCollapse\">商城管理系统</span>\r\n    </div>\r\n\r\n    <!-- 主页跳转 -->\r\n    <el-menu-item index=\"/manage/home\">\r\n      <i class=\"el-icon-house\"></i><span slot=\"title\">主页</span>\r\n    </el-menu-item>\r\n\r\n    <!-- 前台跳转   -->\r\n    <el-menu-item index=\"/\">\r\n      <i class=\"el-icon-house\"></i><span slot=\"title\">前台</span>\r\n    </el-menu-item>\r\n\r\n    <!-- 系统菜单栏  -->\r\n    <el-submenu index=\"2\">\r\n      <template slot=\"title\">\r\n        <i class=\"el-icon-menu\"></i><span slot=\"title\">系统管理</span></template>\r\n        <el-submenu v-show=\"userGroup\" index=\"user\">\r\n\r\n        <template slot=\"title\">账户相关</template>\r\n          <el-menu-item index=\"/manage/user\" v-if=\"menuFlags.userMenu\">用户管理</el-menu-item>\r\n        </el-submenu>\r\n\r\n        <el-submenu v-if=\"fileGroup\" index=\"file\">\r\n          <template slot=\"title\">文件相关</template>\r\n          <el-menu-item index=\"/manage/file\" v-if=\"menuFlags.fileMenu\">文件管理</el-menu-item>\r\n          <el-menu-item index=\"/manage/avatar\" v-if=\"menuFlags.avatarMenu\">头像管理</el-menu-item>\r\n        </el-submenu>\r\n\r\n        <el-submenu v-if=\"GoodGroup\" index=\"good\">\r\n          <template slot=\"title\">商城管理</template>\r\n          <el-menu-item index=\"/manage/category\" v-if=\"menuFlags.categoryMenu\">商品分类管理</el-menu-item>\r\n          <el-menu-item index=\"/manage/carousel\" v-if=\"menuFlags.carouselMenu\">轮播图管理</el-menu-item>\r\n          <el-menu-item index=\"/manage/good\" v-if=\"menuFlags.goodMenu\">商品管理</el-menu-item>\r\n          <el-menu-item index=\"/manage/order\" v-if=\"menuFlags.orderMenu\">订单管理</el-menu-item>\r\n        </el-submenu>\r\n\r\n      <el-submenu v-if=\"incomeGroup\" index=\"income\">\r\n        <template slot=\"title\">销售额统计</template>\r\n        <el-menu-item index=\"/manage/incomeChart\" v-if=\"menuFlags.incomeChartMenu\">图表分析</el-menu-item>\r\n        <el-menu-item index=\"/manage/incomeRank\" v-if=\"menuFlags.incomeRankMenu\">收入排行榜</el-menu-item>\r\n      </el-submenu>\r\n\r\n    </el-submenu>\r\n  </el-menu>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\n\r\nexport default {\r\n  name: \"Aside\",\r\n  props: {\r\n    isCollapse: Boolean,\r\n  },\r\n\r\n  /*初始化数据*/\r\n  data() {\r\n    return {\r\n      role: 'user',\r\n      /*菜单打开状态*/\r\n      menuFlags: {\r\n        userMenu: false,\r\n        fileMenu: false,\r\n        avatarMenu: false,\r\n        goodMenu: false,\r\n        carouselMenu: false,\r\n        orderMenu: false,\r\n        categoryMenu: false,\r\n        incomeChartMenu: false,\r\n        incomeRankMenu: false,\r\n      }\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    userGroup: function () {\r\n      return this.menuFlags.userMenu\r\n    },\r\n    fileGroup: function () {\r\n      return this.menuFlags.fileMenu || this.menuFlags.avatarMenu\r\n    },\r\n    GoodGroup: function () {\r\n      return this.menuFlags.goodMenu || this.menuFlags.orderMenu || this.menuFlags.categoryMenu || this.menuFlags.carouselMenu\r\n    },\r\n    incomeGroup: function () {\r\n      return this.menuFlags.incomeChartMenu || this.menuFlags.incomeRankMenu\r\n    }\r\n  },\r\n  created() {\r\n    /*获取用户角色*/\r\n    request.post(\"http://localhost:8888/role\").then(res => {\r\n      if (res.code === '200') {\r\n        this.role = res.data;\r\n        /*只有管理员有权限*/\r\n        if (this.role === 'admin') {\r\n          this.menuFlags.userMenu = true\r\n          this.menuFlags.fileMenu = true\r\n          this.menuFlags.avatarMenu = true\r\n          this.menuFlags.categoryMenu = true\r\n          this.menuFlags.goodMenu = true\r\n          this.menuFlags.carouselMenu = true\r\n          this.menuFlags.orderMenu = true\r\n          this.menuFlags.incomeChartMenu = true\r\n          this.menuFlags.incomeRankMenu = true\r\n        } else if (this.role === 'user') {\r\n\r\n        }\r\n      }\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n"]},"metadata":{},"sourceType":"module"}