{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport request from \"@/utils/request\";\nexport default {\n  name: \"Aside\",\n  props: {\n    isCollapse: Boolean\n  },\n\n  /*初始化数据*/\n  data: function data() {\n    return {\n      role: 'user',\n\n      /*菜单打开状态*/\n      menuFlags: {\n        userMenu: false,\n        fileMenu: false,\n        avatarMenu: false,\n        goodMenu: false,\n        carouselMenu: false,\n        orderMenu: false,\n        categoryMenu: false,\n        incomeChartMenu: false,\n        incomeRankMenu: false\n      }\n    };\n  },\n  computed: {\n    userGroup: function userGroup() {\n      return this.menuFlags.userMenu;\n    },\n    fileGroup: function fileGroup() {\n      return this.menuFlags.fileMenu || this.menuFlags.avatarMenu;\n    },\n    GoodGroup: function GoodGroup() {\n      return this.menuFlags.goodMenu || this.menuFlags.orderMenu || this.menuFlags.categoryMenu || this.menuFlags.carouselMenu;\n    },\n    incomeGroup: function incomeGroup() {\n      return this.menuFlags.incomeChartMenu || this.menuFlags.incomeRankMenu;\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    /*获取用户角色*/\n    request.post(\"http://localhost:8888/role\").then(function (res) {\n      if (res.code === '200') {\n        _this.role = res.data;\n        /*只有管理员有权限*/\n\n        if (_this.role === 'admin') {\n          _this.menuFlags.userMenu = true;\n          _this.menuFlags.fileMenu = true;\n          _this.menuFlags.avatarMenu = true;\n          _this.menuFlags.categoryMenu = true;\n          _this.menuFlags.goodMenu = true;\n          _this.menuFlags.carouselMenu = true;\n          _this.menuFlags.orderMenu = true;\n          _this.menuFlags.incomeChartMenu = true;\n          _this.menuFlags.incomeRankMenu = true;\n        } else if (_this.role === 'user') {}\n      }\n    });\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AAEA;AACAA,eADA;AAEAC;AACAC;AADA,GAFA;;AAMA;AACAC,MAPA,kBAOA;AACA;AACAC,kBADA;;AAEA;AACAC;AACAC,uBADA;AAEAC,uBAFA;AAGAC,yBAHA;AAIAC,uBAJA;AAKAC,2BALA;AAMAC,wBANA;AAOAC,2BAPA;AAQAC,8BARA;AASAC;AATA;AAHA;AAeA,GAvBA;AAyBAC;AACAC;AACA;AACA,KAHA;AAIAC;AACA;AACA,KANA;AAOAC;AACA;AACA,KATA;AAUAC;AACA;AACA;AAZA,GAzBA;AAuCAC,SAvCA,qBAuCA;AAAA;;AACA;AACAC;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAVA,MAUA,4BAEA;AACA;AACA,KAlBA;AAmBA;AA5DA","names":["name","props","isCollapse","data","role","menuFlags","userMenu","fileMenu","avatarMenu","goodMenu","carouselMenu","orderMenu","categoryMenu","incomeChartMenu","incomeRankMenu","computed","userGroup","fileGroup","GoodGroup","incomeGroup","created","request"],"sourceRoot":"src/components","sources":["Aside.vue"],"sourcesContent":["<!--\n * 左侧滑动-菜单栏\n *\n * @Author: ShanZhu\n * @Date: 2023-11-11\n-->\n<template>\n  <el-menu :default-openeds=\"['2', 'good']\" style=\"height: 100%;\"\n           background-color=\"rgb(28,28,28)\"\n           text-color=\"#fff\"\n           :collapse-transition=\"false\"\n           :collapse=\"isCollapse\"\n           router\n  >\n\n    <!-- 标题，图标等   -->\n    <div style=\"height: 60px;margin-left: 30px; line-height: 60px\">\n      <router-link to=\"/manage/home\">\n        <img src=\"../resource/logo.png\" style=\"width: 40px;position: relative; top: 13px;right: 6px\">\n      </router-link>\n      <span slot=\"title\" style=\"color: aliceblue;font-size: 20px\" v-show=\"!isCollapse\">商城管理系统</span>\n    </div>\n\n    <!-- 主页跳转 -->\n    <el-menu-item index=\"/manage/home\">\n      <i class=\"el-icon-house\"></i><span slot=\"title\">主页</span>\n    </el-menu-item>\n\n    <!-- 前台跳转   -->\n    <el-menu-item index=\"/\">\n      <i class=\"el-icon-house\"></i><span slot=\"title\">前台</span>\n    </el-menu-item>\n\n    <!-- 系统菜单栏  -->\n    <el-submenu index=\"2\">\n      <template slot=\"title\">\n        <i class=\"el-icon-menu\"></i><span slot=\"title\">系统管理</span></template>\n        <el-submenu v-show=\"userGroup\" index=\"user\">\n\n        <template slot=\"title\">账户相关</template>\n          <el-menu-item index=\"/manage/user\" v-if=\"menuFlags.userMenu\">用户管理</el-menu-item>\n        </el-submenu>\n\n        <el-submenu v-if=\"fileGroup\" index=\"file\">\n          <template slot=\"title\">文件相关</template>\n          <el-menu-item index=\"/manage/file\" v-if=\"menuFlags.fileMenu\">文件管理</el-menu-item>\n          <el-menu-item index=\"/manage/avatar\" v-if=\"menuFlags.avatarMenu\">头像管理</el-menu-item>\n        </el-submenu>\n\n        <el-submenu v-if=\"GoodGroup\" index=\"good\">\n          <template slot=\"title\">商城管理</template>\n          <el-menu-item index=\"/manage/category\" v-if=\"menuFlags.categoryMenu\">商品分类管理</el-menu-item>\n          <el-menu-item index=\"/manage/carousel\" v-if=\"menuFlags.carouselMenu\">轮播图管理</el-menu-item>\n          <el-menu-item index=\"/manage/good\" v-if=\"menuFlags.goodMenu\">商品管理</el-menu-item>\n          <el-menu-item index=\"/manage/order\" v-if=\"menuFlags.orderMenu\">订单管理</el-menu-item>\n        </el-submenu>\n\n      <el-submenu v-if=\"incomeGroup\" index=\"income\">\n        <template slot=\"title\">销售额统计</template>\n        <el-menu-item index=\"/manage/incomeChart\" v-if=\"menuFlags.incomeChartMenu\">图表分析</el-menu-item>\n        <el-menu-item index=\"/manage/incomeRank\" v-if=\"menuFlags.incomeRankMenu\">收入排行榜</el-menu-item>\n      </el-submenu>\n\n    </el-submenu>\n  </el-menu>\n</template>\n\n<script>\nimport request from \"@/utils/request\";\n\nexport default {\n  name: \"Aside\",\n  props: {\n    isCollapse: Boolean,\n  },\n\n  /*初始化数据*/\n  data() {\n    return {\n      role: 'user',\n      /*菜单打开状态*/\n      menuFlags: {\n        userMenu: false,\n        fileMenu: false,\n        avatarMenu: false,\n        goodMenu: false,\n        carouselMenu: false,\n        orderMenu: false,\n        categoryMenu: false,\n        incomeChartMenu: false,\n        incomeRankMenu: false,\n      }\n    }\n  },\n\n  computed: {\n    userGroup: function () {\n      return this.menuFlags.userMenu\n    },\n    fileGroup: function () {\n      return this.menuFlags.fileMenu || this.menuFlags.avatarMenu\n    },\n    GoodGroup: function () {\n      return this.menuFlags.goodMenu || this.menuFlags.orderMenu || this.menuFlags.categoryMenu || this.menuFlags.carouselMenu\n    },\n    incomeGroup: function () {\n      return this.menuFlags.incomeChartMenu || this.menuFlags.incomeRankMenu\n    }\n  },\n  created() {\n    /*获取用户角色*/\n    request.post(\"http://localhost:8888/role\").then(res => {\n      if (res.code === '200') {\n        this.role = res.data;\n        /*只有管理员有权限*/\n        if (this.role === 'admin') {\n          this.menuFlags.userMenu = true\n          this.menuFlags.fileMenu = true\n          this.menuFlags.avatarMenu = true\n          this.menuFlags.categoryMenu = true\n          this.menuFlags.goodMenu = true\n          this.menuFlags.carouselMenu = true\n          this.menuFlags.orderMenu = true\n          this.menuFlags.incomeChartMenu = true\n          this.menuFlags.incomeRankMenu = true\n        } else if (this.role === 'user') {\n\n        }\n      }\n    })\n  }\n}\n</script>\n\n"]},"metadata":{},"sourceType":"module"}