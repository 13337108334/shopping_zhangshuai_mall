{"ast":null,"code":"import \"core-js/modules/es.number.to-fixed.js\";\nimport \"core-js/modules/es.json.stringify.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"CartItem\",\n  props: {\n    cart: Object,\n    countChangeFlag: false\n  },\n  created: function created() {},\n  data: function data() {\n    return {\n      baseApi: this.$store.state.baseApi\n    };\n  },\n  computed: {\n    totalPrice: function totalPrice() {\n      return (this.realPrice * this.cart.count).toFixed(2);\n    },\n    realPrice: function realPrice() {\n      return this.cart.price * this.cart.discount;\n    }\n  },\n  methods: {\n    //从购物车移除\n    del: function del(id) {\n      var _this = this;\n\n      this.request.delete(\"/api/cart/\" + this.cart.id).then(function (res) {\n        if (res.code === '200') {\n          _this.$message.success(\"删除成功\");\n\n          _this.$emit('delete', _this.cart.id);\n        }\n      });\n    },\n    //跳转到支付页面\n    pay: function pay() {\n      var good = {\n        id: this.cart.goodId,\n        name: this.cart.goodName,\n        imgs: this.cart.img,\n        discount: this.cart.discount\n      };\n      this.$router.push({\n        name: 'preOrder',\n        query: {\n          good: JSON.stringify(good),\n          realPrice: this.realPrice,\n          num: this.cart.count,\n          standard: this.cart.standard,\n          cartId: this.cart.id\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AACAA,kBADA;AAEAC;AACAC,gBADA;AAEAC;AAFA,GAFA;AAMAC,SANA,qBAMA,CAEA,CARA;AASAC,MATA,kBASA;AACA;AAEAC;AAFA;AAIA,GAdA;AAeAC;AACAC;AACA;AACA,KAHA;AAIAC;AACA;AACA;AANA,GAfA;AAuBAC;AACA;AACAC,OAFA,eAEAC,EAFA,EAEA;AAAA;;AACA;AACA;AACA;;AACA;AACA;AACA,OALA;AAMA,KATA;AAUA;AACAC,OAXA,iBAWA;AACA;AAAAD;AAAAZ;AAAAc;AAAAC;AAAA;AACA;AAAAf;AAAAgB;AAAAC;AAAAR;AAAAS;AAAAC;AAAAC;AAAA;AAAA;AACA;AAdA;AAvBA","names":["name","props","cart","countChangeFlag","created","data","baseApi","computed","totalPrice","realPrice","methods","del","id","pay","imgs","discount","query","good","num","standard","cartId"],"sourceRoot":"src/components","sources":["CartItem.vue"],"sourcesContent":["<!--\n * 购物车内容项\n *\n * @Author: ShanZhu\n * @Date: 2023-11-11\n-->\n<template>\n  <div>\n    <div class=\"header\" style=\"padding-left: 25px;\">\n      <span style=\"line-height: 40px\">{{ cart.createTime }}</span>\n    </div>\n    <div class=\"body\">\n\n     <!--商品图片-->\n      <div style=\"display: inline-block;margin-right: 20px\">\n        <router-link :to=\"'goodview/'+cart.goodId\">\n          <img :src=\"baseApi + cart.img\" style=\"width: 100px;height:100px\">\n        </router-link>\n      </div>\n\n      <!-- 商品信息-->\n      <div style=\"display: inline-block;line-height: 40px\" >\n        <table>\n          <tr>\n            <th>商品</th>\n            <th>规格</th>\n            <th>价格</th>\n            <th>数量</th>\n            <th>总价</th>\n            <th>操作</th>\n          </tr>\n\n          <tr>\n            <a :href=\"'goodview/'+cart.goodId\">\n              <td>{{ cart.goodName }}</td>\n            </a>\n            <td>{{cart.standard}}</td>\n            <td>{{realPrice}}</td>\n            <td>\n              <el-button size=\"mini\" @click=\"countChangeFlag=true\" v-if=\"!countChangeFlag\">\n                {{cart.count}}\n              </el-button>\n              <el-input-number v-model=\"cart.count\" :min=\"1\" :max=\"cart.store\" v-if=\"countChangeFlag\" style=\"width: 120px\" ></el-input-number>\n              </td>\n            <td>{{totalPrice}}</td>\n            <td>\n              <el-button size=\"mini\" type=\"success\" @click=\"pay\">支付</el-button>\n              <el-popconfirm\n                  @confirm=\"del\"\n                  title=\"确定删除？\"\n              >\n                <el-button size=\"mini\" type=\"danger\" icon=\"el-icon-delete\" slot=\"reference\" style=\"margin-left: 10px\"></el-button>\n              </el-popconfirm>\n            </td>\n\n          </tr>\n\n        </table>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"CartItem\",\n  props:{\n    cart: Object,\n    countChangeFlag: false,\n  },\n  created() {\n\n  },\n  data(){\n    return{\n\n      baseApi: this.$store.state.baseApi,\n    }\n  },\n  computed:{\n    totalPrice:function () {\n      return (this.realPrice * this.cart.count).toFixed(2)\n    },\n    realPrice: function (){\n      return (this.cart.price * this.cart.discount)\n    }\n  },\n  methods:{\n    //从购物车移除\n    del(id){\n      this.request.delete(\"/api/cart/\"+this.cart.id).then(res=>{\n        if(res.code==='200'){\n          this.$message.success(\"删除成功\")\n          this.$emit('delete',this.cart.id)\n        }\n      })\n    },\n    //跳转到支付页面\n    pay(){\n      let good = {id: this.cart.goodId,name: this.cart.goodName,imgs: this.cart.img,discount: this.cart.discount}\n      this.$router.push({name: 'preOrder',query: {good: JSON.stringify(good), realPrice: this.realPrice, num: this.cart.count, standard: this.cart.standard, cartId: this.cart.id}})\n    },\n  }\n}\n</script>\n\n<style scoped>\n.header{\n  background-color: #e75c09;\n  height: 40px;\n}\n.body{\n  background-color: white;\n  padding: 20px;\n}\nth,td{\n\n  width: 120px;\n  text-align: center;\n}\nth{\n  font-size: 15px;\n  color: #3472a6;\n  font-weight: normal;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}